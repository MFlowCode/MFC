<?xml version="1.0" encoding="UTF-8"?>
<ruleset name="Fortran Files in src Directory"
         xmlns="http://pmd.sourceforge.net/ruleset/2.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://pmd.sourceforge.net/ruleset/2.0.0
         http://pmd.sourceforge.net/ruleset_2_0_0.xsd">
    <description>
        Ruleset to analyze only Fortran files within the src directory.
    </description>

    <!-- Only run on Fortran files in src/ directory and Python files in toolchain/ directory -->
    <include-pattern>.*/src/.*\.(f|fpp|for|f90|f95|f03|f08)$</include-pattern>
    <include-pattern>.*/toolchain/.*\.py$</include-pattern>

    <!-- For Python files -->
    <rule ref="category/python/bestpractices.xml"/>
    <rule ref="category/python/codestyle.xml"/>
    <rule ref="category/python/design.xml"/>
    <rule ref="category/python/errorprone.xml"/>

    <!-- For Fortran files -->
    <rule ref="category/fortran/bestpractices.xml"/>

</ruleset>